<div class="app-container" *ngIf="!isAdminRoute()">
  <!-- Navigation Header -->
  <header class="main-header">
    <nav class="main-nav">
      <div class="nav-brand">
       <a routerLink="/home" class="brand-link">
        <img 
          *ngIf="!showDefaultLogo" 
          [src]="logoSrc" 
          (error)="onImageError()" 
          alt="Logo" 
          class="brand-image" 
        />
        <div 
          *ngIf="showDefaultLogo" 
          class="brand-image default-logo"
        >
          A
        </div>
      </a>
      </div>
      
      <div class="nav-menu" [class.nav-open]="isMenuOpen">
        <a routerLink="/home" routerLinkActive="active" class="nav-link">
          <span class="nav-text">Home</span>
        </a>
        <a routerLink="/cv" routerLinkActive="active" class="nav-link">
          <span class="nav-text">Curriculum Vitae</span>
        </a>
        <a routerLink="/research" routerLinkActive="active" class="nav-link">
          <span class="nav-text">Research</span>
        </a>
        <a routerLink="/publications" routerLinkActive="active" class="nav-link">
          <span class="nav-text">Publications</span>
        </a>
        <a routerLink="/talks" routerLinkActive="active" class="nav-link">
          <span class="nav-text">Talks and seminars</span>
        </a>
        <a routerLink="/teaching" routerLinkActive="active" class="nav-link">
          <span class="nav-text">Teaching</span>
        </a>
        <a routerLink="/photos" routerLinkActive="active" class="nav-link">
          <span class="nav-text">Photos</span>
        </a>
        <a routerLink="/contact" routerLinkActive="active" class="nav-link">
          <span class="nav-text">Contact</span>
        </a>
      </div>
      
      <button class="menu-toggle" [class.active]="isMenuOpen" (click)="toggleMenu()">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </nav>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <router-outlet></router-outlet>
  </main>

  <!-- Footer -->
  <footer class="main-footer">
    <div class="footer-content">
      <div class="footer-left">
        <div class="footer-logo-section">
          <h3 class="footer-logo">Aymen Bahloul</h3>
          <p class="footer-tagline">Mathematician & Researcher</p>
        </div>
        <p class="site-description">&copy; 2025 Professional Site of Aymen Bahloul</p>
      </div>
      
      <div class="footer-center">
        <div class="footer-links">
          <a routerLink="/home" class="footer-link">Home</a>
          <a routerLink="/research" class="footer-link">Research</a>
          <a routerLink="/publications" class="footer-link">Publications</a>
          <a routerLink="/contact" class="footer-link">Contact</a>
        </div>
      </div>
      
      <div class="footer-right">
        <p class="developers-title">Developed by</p>
        <div class="developers-info">
          <div class="developer">
            <a href="mailto:bahloulwassim94@gmail.com" class="developer-link">
              <span class="developer-name">ING. Wassim Bahloul</span>
            </a>
          </div>
          <div class="developer">
            <a href="mailto:ihedhouib@gmail.com" class="developer-link">
              <span class="developer-name">ING. Iheb Dhouib</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </footer>
</div>

<!-- Admin Layout -->
<div class="admin-container" *ngIf="isAdminRoute() && !isLoginRoute()">
  <mat-sidenav-container class="admin-sidenav-container">
    <!-- Admin Sidebar -->
    <mat-sidenav #sidenav mode="side" opened class="admin-sidenav">
      <div class="admin-sidebar">
        <div class="admin-header">
          <h2>Administration Panel</h2>
        </div>
        
        <mat-nav-list>
          <a mat-list-item routerLink="/admin/dashboard" routerLinkActive="active">
            <mat-icon matListItemIcon>dashboard</mat-icon>
            <span matListItemTitle>Dashboard</span>
          </a>
          
          <a mat-list-item routerLink="/admin/home" routerLinkActive="active">
            <mat-icon matListItemIcon>home</mat-icon>
            <span matListItemTitle>Home</span>
          </a>
          
          <a mat-list-item routerLink="/admin/contact" routerLinkActive="active">
            <mat-icon matListItemIcon>contact_mail</mat-icon>
            <span matListItemTitle>Contact</span>
          </a>
          
          <a mat-list-item routerLink="/admin/cv" routerLinkActive="active">
            <mat-icon matListItemIcon>description</mat-icon>
            <span matListItemTitle>CV</span>
          </a>
          
          <a mat-list-item routerLink="/admin/research" routerLinkActive="active">
            <mat-icon matListItemIcon>science</mat-icon>
            <span matListItemTitle>Research</span>
          </a>
          
          <a mat-list-item routerLink="/admin/publications" routerLinkActive="active">
            <mat-icon matListItemIcon>article</mat-icon>
            <span matListItemTitle>Publications</span>
          </a>
          
          <a mat-list-item routerLink="/admin/talks" routerLinkActive="active">
            <mat-icon matListItemIcon>mic</mat-icon>
            <span matListItemTitle>Conferences</span>
          </a>
          
          <a mat-list-item routerLink="/admin/teaching" routerLinkActive="active">
            <mat-icon matListItemIcon>school</mat-icon>
            <span matListItemTitle>Enseignement</span>
          </a>
          
          <a mat-list-item routerLink="/admin/photos" routerLinkActive="active">
            <mat-icon matListItemIcon>photo_library</mat-icon>
            <span matListItemTitle>Photos</span>
          </a>
          
          <mat-divider></mat-divider>
          
          <a mat-list-item (click)="logout()">
            <mat-icon matListItemIcon>logout</mat-icon>
            <span matListItemTitle>DÃ©connexion</span>
          </a>
        </mat-nav-list>
      </div>
    </mat-sidenav>

    <!-- Admin Content -->
    <mat-sidenav-content class="admin-content">
      <router-outlet></router-outlet>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>

<!-- Login Layout -->
<div class="login-container" *ngIf="isLoginRoute()">
  <router-outlet></router-outlet>
</div>

